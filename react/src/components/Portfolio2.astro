---
// Enhanced Portfolio Section Component with Popup Modals
const portfolioProjects = [
  {
    id: 1,
    title: "Gong Cha - Have a Grape Day!",
    category: "Social Media Campaign",
    client: "Gong Cha Indonesia",
    year: "2024",
    duration: "3 Months",
    services: ["DVC Production", "Social Media Management", "Content Strategy"],
    image: "/public/STORMLAB-LOGOArtboard-9.png",
    thumbnail: "/public/STORMLAB-LOGOArtboard-9.png",
    description: "A comprehensive social media campaign for Gong Cha's new grape flavor launch, featuring dynamic video content and engaging social media strategy.",
    fullDescription: "Kami mengembangkan kampanye terintegrasi untuk peluncuran varian rasa anggur terbaru Gong Cha. Campaign ini mencakup produksi video kreatif, strategi konten media sosial yang engaging, dan aktivasi digital yang berhasil meningkatkan brand awareness hingga 250% dalam 3 bulan. Tim kami bekerja sama dengan influencer terpilih dan menggunakan pendekatan storytelling yang kuat untuk menciptakan buzz di kalangan target audience.",
    results: [
      { metric: "Brand Awareness", value: "+250%", description: "Peningkatan brand awareness" },
      { metric: "Engagement Rate", value: "8.5%", description: "Average engagement rate" },
      { metric: "Video Views", value: "2.5M+", description: "Total video views across platforms" },
      { metric: "UGC Generated", value: "500+", description: "User-generated content pieces" }
    ],
    technologies: ["Adobe Premiere Pro", "After Effects", "Instagram", "TikTok", "Facebook"],
    challenges: [
      "Menciptakan konten yang resonan dengan Gen Z dan Millennial",
      "Mengintegrasikan brand message dengan trend viral",
      "Mengoptimalkan konten untuk multiple platform"
    ],
    solutions: [
      "Riset mendalam tentang behavior dan preferensi target audience",
      "Kolaborasi dengan content creator untuk authentic storytelling",
      "Penggunaan data analytics untuk optimasi konten real-time"
    ],
    gallery: [
      "/public/STORMLAB-LOGOArtboard-9.png",
      "/public/STORMLAB-LOGOArtboard-9.png",
      "/public/STORMLAB-LOGOArtboard-9.png"
    ],
    tags: ["Social Media", "Video Production", "Campaign", "F&B"],
    color: "from-purple-500 to-pink-600",
    featured: true
  },
  {
    id: 2,
    title: "Softex Celana Menstruasi",
    category: "Digital Marketing Campaign",
    client: "Softex Indonesia",
    year: "2024",
    duration: "6 Months",
    services: ["Creative Video Production", "Digital Strategy", "Talent Management"],
    image: "/public/STORMLAB-LOGOArtboard-9.png",
    thumbnail: "/public/STORMLAB-LOGOArtboard-9.png",
    description: "Educational campaign breaking taboos around menstruation with creative video content and strategic digital marketing approach.",
    fullDescription: "Kampanye edukasi yang bertujuan untuk memecahkan stigma seputar menstruasi melalui konten video kreatif dan pendekatan digital marketing yang strategis. Kami menggunakan pendekatan storytelling yang sensitif namun powerful untuk menciptakan awareness tentang kesehatan menstruasi dan memposisikan Softex sebagai brand yang care terhadap wanita Indonesia.",
    results: [
      { metric: "Reach", value: "5.2M+", description: "Total organic reach" },
      { metric: "Campaign Awareness", value: "+180%", description: "Brand awareness lift" },
      { metric: "Positive Sentiment", value: "92%", description: "Positive brand sentiment" },
      { metric: "Sales Increase", value: "+45%", description: "Product sales growth" }
    ],
    technologies: ["Cinema 4D", "Adobe Creative Suite", "YouTube", "Instagram", "Google Ads"],
    challenges: [
      "Membahas topik sensitif dengan approach yang tepat",
      "Meningkatkan awareness tanpa menimbulkan kontroversi",
      "Mencapai target audience yang luas dengan pesan yang relevan"
    ],
    solutions: [
      "Riset ekstensif dengan focus group dan expert consultation",
      "Penggunaan storytelling yang empathetic dan educational",
      "Strategi komunikasi multi-channel dengan tone yang konsisten"
    ],
    gallery: [
      "/public/STORMLAB-LOGOArtboard-9.png",
      "/public/STORMLAB-LOGOArtboard-9.png",
      "/public/STORMLAB-LOGOArtboard-9.png"
    ],
    tags: ["Healthcare", "Educational", "Video Production", "Social Impact"],
    color: "from-blue-500 to-teal-600",
    featured: true
  },
  {
    id: 3,
    title: "TechStart Indonesia - Digital Transformation",
    category: "Brand Development",
    client: "TechStart Indonesia",
    year: "2023",
    duration: "4 Months",
    services: ["Brand Strategy", "Web Development", "SEO Optimization"],
    image: "/public/STORMLAB-LOGOArtboard-9.png",
    thumbnail: "/public/STORMLAB-LOGOArtboard-9.png",
    description: "Complete digital transformation for a growing tech startup, including brand strategy, website development, and SEO optimization.",
    fullDescription: "Transformasi digital menyeluruh untuk startup teknologi yang berkembang pesat. Proyek ini mencakup pengembangan strategi brand yang kuat, pembuatan website yang modern dan user-friendly, serta optimasi SEO yang berhasil meningkatkan organic traffic secara signifikan.",
    results: [
      { metric: "Organic Traffic", value: "+320%", description: "Increase in organic website traffic" },
      { metric: "Lead Generation", value: "+200%", description: "Qualified leads generated" },
      { metric: "Page Speed", value: "95/100", description: "Google PageSpeed score" },
      { metric: "Conversion Rate", value: "12.3%", description: "Website conversion rate" }
    ],
    technologies: ["React", "Next.js", "Tailwind CSS", "Google Analytics", "Search Console"],
    challenges: [
      "Membangun brand identity yang memorable di industri yang kompetitif",
      "Mengoptimalkan website performance untuk user experience terbaik",
      "Meningkatkan visibility di search engine untuk keyword yang competitive"
    ],
    solutions: [
      "Comprehensive brand research dan competitive analysis",
      "Implementation of modern web technologies dan best practices",
      "Strategic SEO approach dengan focus pada technical dan content optimization"
    ],
    gallery: [
      "/public/STORMLAB-LOGOArtboard-9.png",
      "/public/STORMLAB-LOGOArtboard-9.png",
      "/public/STORMLAB-LOGOArtboard-9.png"
    ],
    tags: ["Tech", "Startup", "Web Development", "SEO"],
    color: "from-green-500 to-blue-600",
    featured: false
  },
  {
    id: 4,
    title: "Fashion Forward - E-commerce Launch",
    category: "E-commerce Development",
    client: "Fashion Forward",
    year: "2023",
    duration: "5 Months",
    services: ["E-commerce Development", "Digital Marketing", "Social Media"],
    image: "/public/STORMLAB-LOGOArtboard-9.png",
    thumbnail: "/public/STORMLAB-LOGOArtboard-9.png",
    description: "Launch of a fashion e-commerce platform with integrated digital marketing strategy and social media campaigns.",
    fullDescription: "Peluncuran platform e-commerce fashion dengan strategi digital marketing terintegrasi dan kampanye media sosial yang comprehensive. Proyek ini mencakup development website e-commerce yang modern, implementasi sistem payment yang secure, dan strategi marketing yang berhasil mencapai target penjualan dalam 6 bulan pertama.",
    results: [
      { metric: "Online Sales", value: "₹2.5M+", description: "Revenue in first 6 months" },
      { metric: "Customer Acquisition", value: "10K+", description: "New customers acquired" },
      { metric: "Social Followers", value: "+500%", description: "Growth in social media followers" },
      { metric: "Return Customers", value: "35%", description: "Customer retention rate" }
    ],
    technologies: ["Shopify", "Google Ads", "Facebook Ads", "Instagram", "Mailchimp"],
    challenges: [
      "Membangun trust dalam penjualan fashion online",
      "Menciptakan user experience yang seamless dari discovery hingga purchase",
      "Mengoptimalkan customer acquisition cost"
    ],
    solutions: [
      "Implementation of social proof dan customer review systems",
      "User-centric design dengan focus pada mobile experience",
      "Data-driven approach untuk ad targeting dan campaign optimization"
    ],
    gallery: [
      "/public/STORMLAB-LOGOArtboard-9.png",
      "/public/STORMLAB-LOGOArtboard-9.png",
      "/public/STORMLAB-LOGOArtboard-9.png"
    ],
    tags: ["Fashion", "E-commerce", "Digital Marketing", "Social Media"],
    color: "from-pink-500 to-red-600",
    featured: false
  }
];

const categories = ["All", "Social Media Campaign", "Digital Marketing Campaign", "Brand Development", "E-commerce Development"];
---

<section id="portfolio" class="portfolio">
  <!-- Background Elements -->
  <div class="portfolio-background">
    <div class="gradient-mesh"></div>
    <div class="floating-elements">
      <div class="element element-1"></div>
      <div class="element element-2"></div>
      <div class="element element-3"></div>
    </div>
  </div>

  <div class="container">
    <!-- Section Header -->
    <div class="section-header scroll-animate">
      <div class="section-subtitle">Our Work</div>
      <h2 class="section-title">Portfolio Projects</h2>
      <p class="section-description">
        Discover our latest projects and see how we've helped brands achieve remarkable results through strategic digital marketing and creative solutions.
      </p>
    </div>

    <!-- Category Filter -->
    <div class="portfolio-filters scroll-animate">
      <div class="filter-tabs">
        {categories.map((category, index) => (
          <button 
            class={`filter-tab ${index === 0 ? 'active' : ''}`}
            data-filter={category === 'All' ? 'all' : category.toLowerCase().replace(/\s+/g, '-')}
          >
            {category}
          </button>
        ))}
      </div>
    </div>

    <!-- Portfolio Grid -->
    <div class="portfolio-grid">
      {portfolioProjects.map((project, index) => (
        <div 
          class={`portfolio-item scroll-animate ${project.featured ? 'featured' : ''}`}
          data-category={project.category.toLowerCase().replace(/\s+/g, '-')}
          data-delay={index * 100}
          data-project-id={project.id}
        >
          <div class="project-card">
            <div class="project-image">
              <img src={project.thumbnail} alt={project.title} loading="lazy" />
              <div class="image-overlay">
                <div class="overlay-content">
                  <div class="project-category">{project.category}</div>
                  <h3 class="project-title">{project.title}</h3>
                  <p class="project-description">{project.description}</p>
                  <button class="view-project-btn" data-project-id={project.id}>
                    <span class="btn-text">View Details</span>
                  </button>
                </div>
              </div>
              <div class="project-tags">
                {project.tags.slice(0, 2).map((tag) => (
                  <span class="project-tag">{tag}</span>
                ))}
              </div>
              {project.featured && <div class="featured-badge">Featured</div>}
            </div>
            
            <div class="project-info">
              <div class="project-meta">
                <span class="project-client">{project.client}</span>
                <span class="project-year">{project.year}</span>
              </div>
              <h3 class="project-title-card">{project.title}</h3>
              <div class="project-services">
                {project.services.slice(0, 3).map((service) => (
                  <span class="service-tag">{service}</span>
                ))}
              </div>
            </div>
          </div>
        </div>
      ))}
    </div>

    <!-- Load More Button -->
    <div class="portfolio-actions scroll-animate">
      <button class="load-more-btn">
        <span class="btn-content">
          <span class="btn-text">Load More Projects</span>
        </span>
        <div class="btn-ripple"></div>
      </button>
    </div>
  </div>

  <!-- Project Modal -->
  <div class="project-modal" id="projectModal">
    <div class="modal-backdrop"></div>
    <div class="modal-container">
      <div class="modal-content">
        <!-- Modal Header -->
        <div class="modal-header">
          <button class="modal-close" id="modalClose">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </button>
        </div>

        <!-- Modal Body -->
        <div class="modal-body">
          <div class="modal-hero">
            <div class="hero-image">
              <img id="modalImage" src="" alt="" />
            </div>
            <div class="hero-content">
              <div class="project-category-modal" id="modalCategory"></div>
              <h1 class="project-title-modal" id="modalTitle"></h1>
              <p class="project-description-modal" id="modalDescription"></p>
              
              <div class="project-meta-grid">
                <div class="meta-item">
                  <span class="meta-label">Client</span>
                  <span class="meta-value" id="modalClient"></span>
                </div>
                <div class="meta-item">
                  <span class="meta-label">Year</span>
                  <span class="meta-value" id="modalYear"></span>
                </div>
                <div class="meta-item">
                  <span class="meta-label">Duration</span>
                  <span class="meta-value" id="modalDuration"></span>
                </div>
                <div class="meta-item">
                  <span class="meta-label">Services</span>
                  <div class="meta-tags" id="modalServices"></div>
                </div>
              </div>
            </div>
          </div>

          <!-- Results Section -->
          <div class="results-section">
            <h3 class="section-subtitle">Project Results</h3>
            <div class="results-grid" id="modalResults"></div>
          </div>

          <!-- Challenge & Solution -->
          <div class="challenge-solution">
            <div class="challenge-section">
              <h3 class="section-subtitle">Challenges</h3>
              <ul class="challenge-list" id="modalChallenges"></ul>
            </div>
            <div class="solution-section">
              <h3 class="section-subtitle">Solutions</h3>
              <ul class="solution-list" id="modalSolutions"></ul>
            </div>
          </div>

          <!-- Technologies -->
          <div class="technologies-section">
            <h3 class="section-subtitle">Technologies Used</h3>
            <div class="tech-tags" id="modalTechnologies"></div>
          </div>

          <!-- Gallery -->
          <div class="gallery-section">
            <h3 class="section-subtitle">Project Gallery</h3>
            <div class="project-gallery" id="modalGallery"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  /* ================================
     PORTFOLIO SECTION STYLES
  ================================ */
  .portfolio {
    padding: 6rem 0;
    background: linear-gradient(135deg, #f8fafc 0%, #ffffff 50%, #f1f5f9 100%);
    position: relative;
    overflow: hidden;
  }

  /* Background Elements */
  .portfolio-background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
  }

  .gradient-mesh {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: 
      radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.03) 0%, transparent 50%),
      radial-gradient(circle at 80% 80%, rgba(139, 92, 246, 0.03) 0%, transparent 50%),
      radial-gradient(circle at 40% 60%, rgba(236, 72, 153, 0.02) 0%, transparent 50%);
  }

  .floating-elements {
    position: absolute;
    width: 100%;
    height: 100%;
  }

  .element {
    position: absolute;
    border-radius: 50%;
    filter: blur(1px);
    animation: elementFloat 20s ease-in-out infinite;
  }

  .element-1 {
    width: 150px;
    height: 150px;
    background: linear-gradient(45deg, rgba(59, 130, 246, 0.1), rgba(139, 92, 246, 0.1));
    top: 10%;
    left: 80%;
    animation-delay: 0s;
  }

  .element-2 {
    width: 100px;
    height: 100px;
    background: linear-gradient(45deg, rgba(236, 72, 153, 0.1), rgba(239, 68, 68, 0.1));
    bottom: 20%;
    left: 10%;
    animation-delay: 7s;
  }

  .element-3 {
    width: 120px;
    height: 120px;
    background: linear-gradient(45deg, rgba(16, 185, 129, 0.1), rgba(6, 182, 212, 0.1));
    top: 50%;
    left: 50%;
    animation-delay: 14s;
  }

  /* Portfolio Filters */
  .portfolio-filters {
    margin-bottom: 3rem;
    display: flex;
    justify-content: center;
    position: relative;
    z-index: 2;
  }

  .filter-tabs {
    display: flex;
    gap: 0.5rem;
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(20px);
    padding: 0.5rem;
    border-radius: 50px;
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
  }

  .filter-tab {
    padding: 0.75rem 1.5rem;
    background: transparent;
    border: none;
    border-radius: 25px;
    font-weight: 600;
    font-size: 0.9rem;
    color: var(--medium-gray);
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    white-space: nowrap;
  }

  .filter-tab.active {
    background: var(--primary-black);
    color: var(--pure-white);
    transform: scale(1.05);
  }

  .filter-tab:hover:not(.active) {
    background: rgba(0, 0, 0, 0.05);
    color: var(--primary-black);
  }

  /* Portfolio Grid */
  .portfolio-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: 2rem;
    position: relative;
    z-index: 2;
    margin-bottom: 3rem;
  }

  .portfolio-item {
    opacity: 0;
    transform: translateY(50px) scale(0.95);
    transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  .portfolio-item.animate {
    opacity: 1;
    transform: translateY(0) scale(1);
  }

  .portfolio-item.hidden {
    display: none;
  }

  /* Project Cards */
  .project-card {
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(20px);
    border-radius: 20px;
    overflow: hidden;
    border: 1px solid rgba(255, 255, 255, 0.2);
    transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
    position: relative;
  }

  .project-card:hover {
    transform: translateY(-10px);
    box-shadow: 
      0 30px 60px rgba(0, 0, 0, 0.15),
      0 0 0 1px rgba(255, 255, 255, 0.3);
  }

  .featured .project-card {
    background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(248,250,252,0.95) 100%);
    border: 2px solid rgba(59, 130, 246, 0.2);
  }

  .featured .project-card:hover {
    border-color: rgba(59, 130, 246, 0.4);
    box-shadow: 
      0 30px 60px rgba(59, 130, 246, 0.2),
      0 0 0 1px rgba(59, 130, 246, 0.1);
  }

  /* Project Image */
  .project-image {
    position: relative;
    height: 280px;
    overflow: hidden;
  }

  .project-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.6s ease;
  }

  .project-card:hover .project-image img {
    transform: scale(1.1);
  }

  .image-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, 
      rgba(0, 0, 0, 0.8) 0%, 
      rgba(0, 0, 0, 0.6) 50%, 
      rgba(0, 0, 0, 0.4) 100%);
    opacity: 0;
    transition: opacity 0.4s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 2rem;
  }

  .project-card:hover .image-overlay {
    opacity: 1;
  }

  .overlay-content {
    color: white;
    transform: translateY(20px);
    transition: transform 0.4s ease;
  }

  .project-card:hover .overlay-content {
    transform: translateY(0);
  }

  .overlay-content .project-category {
    font-size: 0.8rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: rgba(255, 255, 255, 0.8);
    margin-bottom: 0.5rem;
  }

  .overlay-content .project-title {
    font-size: 1.2rem;
    font-weight: 700;
    margin-bottom: 1rem;
    line-height: 1.3;
  }

  .overlay-content .project-description {
    font-size: 0.9rem;
    line-height: 1.5;
    margin-bottom: 1.5rem;
    opacity: 0.9;
  }

  /* View Project Button */
  .view-project-btn {
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    color: white;
    padding: 0.75rem 1.5rem;
    border-radius: 25px;
    font-weight: 600;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
  }

  .view-project-btn:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: translateY(-2px);
  }

  /* Project Tags & Badges */
  .project-tags {
    position: absolute;
    top: 1rem;
    left: 1rem;
    display: flex;
    gap: 0.5rem;
  }

  .project-tag {
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(10px);
    padding: 0.25rem 0.75rem;
    border-radius: 15px;
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--primary-black);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  .featured-badge {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: linear-gradient(135deg, #3b82f6, #8b5cf6);
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    animation: pulse 2s ease-in-out infinite;
  }

  /* Project Info */
  .project-info {
    padding: 1.5rem;
  }

  .project-meta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.5rem;
    font-size: 0.8rem;
    color: var(--medium-gray);
  }

  .project-client {
    font-weight: 600;
  }

  .project-year {
    background: rgba(0, 0, 0, 0.05);
    padding: 0.25rem 0.5rem;
    border-radius: 10px;
  }

  .project-title-card {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--primary-black);
    margin-bottom: 1rem;
    line-height: 1.3;
  }

  .project-services {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  .service-tag {
    background: rgba(0, 0, 0, 0.05);
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 500;
    color: var(--dark-gray);
  }

  /* Load More Button */
  .portfolio-actions {
    text-align: center;
    position: relative;
    z-index: 2;
  }

  .load-more-btn {
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(20px);
    border: 2px solid rgba(0, 0, 0, 0.1);
    color: var(--primary-black);
    padding: 1rem 2rem;
    border-radius: 50px;
    font-weight: 600;
    font-size: 0.95rem;
    cursor: pointer;
    transition: all 0.4s ease;
    position: relative;
    overflow: hidden;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
  }

  .load-more-btn:hover {
    background: var(--primary-black);
    color: white;
    transform: translateY(-3px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
  }

  /* Project Modal */
  .project-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 9999;
    display: none;
    opacity: 0;
    transition: all 0.3s ease;
  }

  .project-modal.active {
    display: flex;
    opacity: 1;
  }

  .modal-backdrop {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(10px);
  }

  .modal-container {
    position: relative;
    width: 100%;
    height: 100%;
    overflow-y: auto;
    display: flex;
    align-items: flex-start;
    justify-content: center;
    padding: 2rem;
  }

  .modal-content {
    background: white;
    border-radius: 20px;
    max-width: 900px;
    width: 100%;
    position: relative;
    margin: auto;
    overflow: hidden;
    transform: scale(0.9);
    transition: transform 0.3s ease;
  }

  .project-modal.active .modal-content {
    transform: scale(1);
  }

  /* Modal Header */
  .modal-header {
    position: absolute;
    top: 1rem;
    right: 1rem;
    z-index: 10;
  }

  .modal-close {
    width: 40px;
    height: 40px;
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(20px);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--primary-black);
    transition: all 0.3s ease;
  }

  .modal-close:hover {
    background: var(--primary-black);
    color: white;
    transform: scale(1.1);
  }

  /* Modal Body */
  .modal-body {
    padding: 0;
  }

  .modal-hero {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    padding: 2rem;
    align-items: center;
    background: linear-gradient(135deg, #f8fafc 0%, #ffffff 100%);
  }

  .hero-image {
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
  }

  .hero-image img {
    width: 100%;
    height: 300px;
    object-fit: cover;
  }

  .hero-content {
    padding: 1rem;
  }

  .project-category-modal {
    background: linear-gradient(135deg, #3b82f6, #8b5cf6);
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    display: inline-block;
    margin-bottom: 1rem;
  }

  .project-title-modal {
    font-size: 2rem;
    font-weight: 800;
    color: var(--primary-black);
    margin-bottom: 1rem;
    line-height: 1.2;
  }

  .project-description-modal {
    font-size: 1rem;
    color: var(--medium-gray);
    line-height: 1.7;
    margin-bottom: 2rem;
  }

  .project-meta-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
    margin-bottom: 1rem;
  }

  .meta-item {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
  }

  .meta-label {
    font-size: 0.8rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--medium-gray);
  }

  .meta-value {
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--primary-black);
  }

  .meta-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  .meta-tags .service-tag {
    background: rgba(59, 130, 246, 0.1);
    color: var(--primary-black);
    border: 1px solid rgba(59, 130, 246, 0.2);
  }

  /* Results Section */
  .results-section {
    padding: 2rem;
    background: white;
    border-top: 1px solid var(--border-gray);
  }

  .results-section .section-subtitle {
    font-size: 1.2rem;
    font-weight: 700;
    color: var(--primary-black);
    margin-bottom: 1.5rem;
    text-align: left;
  }

  .results-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
  }

  .result-item {
    background: linear-gradient(135deg, #f8fafc 0%, #ffffff 100%);
    padding: 1.5rem;
    border-radius: 16px;
    text-align: center;
    border: 1px solid var(--border-gray);
    transition: all 0.3s ease;
  }

  .result-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
  }

  .result-value {
    font-size: 2rem;
    font-weight: 800;
    color: var(--primary-black);
    display: block;
    margin-bottom: 0.5rem;
    background: linear-gradient(135deg, #3b82f6, #8b5cf6);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .result-metric {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--primary-black);
    margin-bottom: 0.25rem;
  }

  .result-description {
    font-size: 0.8rem;
    color: var(--medium-gray);
    line-height: 1.4;
  }

  /* Challenge & Solution */
  .challenge-solution {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    padding: 2rem;
    background: #f8fafc;
  }

  .challenge-section,
  .solution-section {
    background: white;
    padding: 1.5rem;
    border-radius: 16px;
    border: 1px solid var(--border-gray);
  }

  .challenge-section .section-subtitle,
  .solution-section .section-subtitle {
    font-size: 1.1rem;
    font-weight: 700;
    margin-bottom: 1rem;
    text-align: left;
  }

  .challenge-section .section-subtitle {
    color: #dc2626;
  }

  .solution-section .section-subtitle {
    color: #059669;
  }

  .challenge-list,
  .solution-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .challenge-list li,
  .solution-list li {
    padding: 0.75rem 0;
    border-bottom: 1px solid var(--border-gray);
    font-size: 0.9rem;
    line-height: 1.5;
    position: relative;
    padding-left: 2rem;
  }

  .challenge-list li:last-child,
  .solution-list li:last-child {
    border-bottom: none;
  }

  .challenge-list li::before {
    content: '⚠️';
    position: absolute;
    left: 0;
    top: 0.75rem;
  }

  .solution-list li::before {
    content: '✅';
    position: absolute;
    left: 0;
    top: 0.75rem;
  }

  /* Technologies Section */
  .technologies-section {
    padding: 2rem;
    background: white;
    border-top: 1px solid var(--border-gray);
  }

  .technologies-section .section-subtitle {
    font-size: 1.2rem;
    font-weight: 700;
    color: var(--primary-black);
    margin-bottom: 1.5rem;
    text-align: left;
  }

  .tech-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
  }

  .tech-tag {
    background: linear-gradient(135deg, #f1f5f9, #e2e8f0);
    color: var(--primary-black);
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 600;
    border: 1px solid rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
  }

  .tech-tag:hover {
    background: linear-gradient(135deg, #3b82f6, #8b5cf6);
    color: white;
    transform: translateY(-2px);
  }

  /* Gallery Section */
  .gallery-section {
    padding: 2rem;
    background: #f8fafc;
  }

  .gallery-section .section-subtitle {
    font-size: 1.2rem;
    font-weight: 700;
    color: var(--primary-black);
    margin-bottom: 1.5rem;
    text-align: left;
  }

  .project-gallery {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
  }

  .gallery-item {
    border-radius: 12px;
    overflow: hidden;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .gallery-item:hover {
    transform: scale(1.05);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
  }

  .gallery-item img {
    width: 100%;
    height: 200px;
    object-fit: contain;
  }

  /* Animations */
  @keyframes elementFloat {
    0%, 100% {
      transform: translate(0, 0) scale(1);
    }
    25% {
      transform: translate(-20px, -20px) scale(1.1);
    }
    50% {
      transform: translate(20px, -10px) scale(0.9);
    }
    75% {
      transform: translate(-10px, 20px) scale(1.05);
    }
  }

  @keyframes pulse {
    0%, 100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.05);
    }
  }

  /* Mobile Responsive */
  @media (max-width: 768px) {
    .portfolio-grid {
      grid-template-columns: 1fr;
      gap: 1.5rem;
    }

    .filter-tabs {
      flex-wrap: wrap;
      justify-content: center;
      gap: 0.5rem;
      padding: 1rem;
    }

    .filter-tab {
      padding: 0.5rem 1rem;
      font-size: 0.8rem;
    }

    .project-image {
      height: 220px;
    }

    .overlay-content .project-title {
      font-size: 1rem;
    }

    .overlay-content .project-description {
      font-size: 0.8rem;
    }

    /* Modal Mobile */
    .modal-container {
      padding: 1rem;
    }

    .modal-hero {
      grid-template-columns: 1fr;
      gap: 1rem;
      padding: 1rem;
    }

    .hero-image img {
      height: 200px;
    }

    .project-title-modal {
      font-size: 1.5rem;
    }

    .project-meta-grid {
      grid-template-columns: 1fr;
    }

    .results-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
    }

    .challenge-solution {
      grid-template-columns: 1fr;
      gap: 1rem;
    }

    .project-gallery {
      grid-template-columns: 1fr;
    }

    .gallery-item img {
      height: 150px;
    }
  }

  @media (max-width: 480px) {
    .portfolio {
      padding: 4rem 0;
    }

    .project-info {
      padding: 1rem;
    }

    .project-title-card {
      font-size: 1rem;
    }

    .results-grid {
      grid-template-columns: 1fr;
    }

    .result-item {
      padding: 1rem;
    }

    .result-value {
      font-size: 1.5rem;
    }
  }
</style>

<script>
  // Portfolio project data (moved to script for dynamic access)
  const projectData = {
    1: {
      id: 1,
      title: "Gong Cha - Have a Grape Day!",
      category: "Social Media Campaign",
      client: "Gong Cha Indonesia",
      year: "2024",
      duration: "3 Months",
      services: ["DVC Production", "Social Media Management", "Content Strategy"],
      image: "/public/STORMLAB-LOGOArtboard-9.png",
      description: "Kampanye terintegrasi untuk peluncuran varian rasa anggur terbaru Gong Cha. Campaign ini mencakup produksi video kreatif, strategi konten media sosial yang engaging, dan aktivasi digital yang berhasil meningkatkan brand awareness hingga 250% dalam 3 bulan. Tim kami bekerja sama dengan influencer terpilih dan menggunakan pendekatan storytelling yang kuat untuk menciptakan buzz di kalangan target audience.",
      results: [
        { metric: "Brand Awareness", value: "+250%", description: "Peningkatan brand awareness" },
        { metric: "Engagement Rate", value: "8.5%", description: "Average engagement rate" },
        { metric: "Video Views", value: "2.5M+", description: "Total video views across platforms" },
        { metric: "UGC Generated", value: "500+", description: "User-generated content pieces" }
      ],
      technologies: ["Adobe Premiere Pro", "After Effects", "Instagram", "TikTok", "Facebook"],
      challenges: [
        "Menciptakan konten yang resonan dengan Gen Z dan Millennial",
        "Mengintegrasikan brand message dengan trend viral",
        "Mengoptimalkan konten untuk multiple platform"
      ],
      solutions: [
        "Riset mendalam tentang behavior dan preferensi target audience",
        "Kolaborasi dengan content creator untuk authentic storytelling",
        "Penggunaan data analytics untuk optimasi konten real-time"
      ],
      gallery: [
        "/public/STORMLAB-LOGOArtboard-9.png",
        "/public/STORMLAB-LOGOArtboard-9.png",
        "/public/STORMLAB-LOGOArtboard-9.png"
      ]
    },
    2: {
      id: 2,
      title: "Softex Celana Menstruasi",
      category: "Digital Marketing Campaign",
      client: "Softex Indonesia",
      year: "2024",
      duration: "6 Months",
      services: ["Creative Video Production", "Digital Strategy", "Talent Management"],
      image: "/public/STORMLAB-LOGOArtboard-9.png",
      description: "Kampanye edukasi yang bertujuan untuk memecahkan stigma seputar menstruasi melalui konten video kreatif dan pendekatan digital marketing yang strategis. Kami menggunakan pendekatan storytelling yang sensitif namun powerful untuk menciptakan awareness tentang kesehatan menstruasi dan memposisikan Softex sebagai brand yang care terhadap wanita Indonesia.",
      results: [
        { metric: "Reach", value: "5.2M+", description: "Total organic reach" },
        { metric: "Campaign Awareness", value: "+180%", description: "Brand awareness lift" },
        { metric: "Positive Sentiment", value: "92%", description: "Positive brand sentiment" },
        { metric: "Sales Increase", value: "+45%", description: "Product sales growth" }
      ],
      technologies: ["Cinema 4D", "Adobe Creative Suite", "YouTube", "Instagram", "Google Ads"],
      challenges: [
        "Membahas topik sensitif dengan approach yang tepat",
        "Meningkatkan awareness tanpa menimbulkan kontroversi",
        "Mencapai target audience yang luas dengan pesan yang relevan"
      ],
      solutions: [
        "Riset ekstensif dengan focus group dan expert consultation",
        "Penggunaan storytelling yang empathetic dan educational",
        "Strategi komunikasi multi-channel dengan tone yang konsisten"
      ],
      gallery: [
        "/public/STORMLAB-LOGOArtboard-9.png",
        "/public/STORMLAB-LOGOArtboard-9.png",
        "/public/STORMLAB-LOGOArtboard-9.png"
      ]
    },
    3: {
      id: 3,
      title: "TechStart Indonesia - Digital Transformation",
      category: "Brand Development",
      client: "TechStart Indonesia",
      year: "2023",
      duration: "4 Months",
      services: ["Brand Strategy", "Web Development", "SEO Optimization"],
      image: "/public/STORMLAB-LOGOArtboard-9.png",
      description: "Transformasi digital menyeluruh untuk startup teknologi yang berkembang pesat. Proyek ini mencakup pengembangan strategi brand yang kuat, pembuatan website yang modern dan user-friendly, serta optimasi SEO yang berhasil meningkatkan organic traffic secara signifikan.",
      results: [
        { metric: "Organic Traffic", value: "+320%", description: "Increase in organic website traffic" },
        { metric: "Lead Generation", value: "+200%", description: "Qualified leads generated" },
        { metric: "Page Speed", value: "95/100", description: "Google PageSpeed score" },
        { metric: "Conversion Rate", value: "12.3%", description: "Website conversion rate" }
      ],
      technologies: ["React", "Next.js", "Tailwind CSS", "Google Analytics", "Search Console"],
      challenges: [
        "Membangun brand identity yang memorable di industri yang kompetitif",
        "Mengoptimalkan website performance untuk user experience terbaik",
        "Meningkatkan visibility di search engine untuk keyword yang competitive"
      ],
      solutions: [
        "Comprehensive brand research dan competitive analysis",
        "Implementation of modern web technologies dan best practices",
        "Strategic SEO approach dengan focus pada technical dan content optimization"
      ],
      gallery: [
        "/public/STORMLAB-LOGOArtboard-9.png",
        "/public/STORMLAB-LOGOArtboard-9.png",
        "/public/STORMLAB-LOGOArtboard-9.png"
      ]
    },
    4: {
      id: 4,
      title: "Fashion Forward - E-commerce Launch",
      category: "E-commerce Development",
      client: "Fashion Forward",
      year: "2023",
      duration: "5 Months",
      services: ["E-commerce Development", "Digital Marketing", "Social Media"],
      image: "/public/STORMLAB-LOGOArtboard-9.png",
      description: "Peluncuran platform e-commerce fashion dengan strategi digital marketing terintegrasi dan kampanye media sosial yang comprehensive. Proyek ini mencakup development website e-commerce yang modern, implementasi sistem payment yang secure, dan strategi marketing yang berhasil mencapai target penjualan dalam 6 bulan pertama.",
      results: [
        { metric: "Online Sales", value: "₹2.5M+", description: "Revenue in first 6 months" },
        { metric: "Customer Acquisition", value: "10K+", description: "New customers acquired" },
        { metric: "Social Followers", value: "+500%", description: "Growth in social media followers" },
        { metric: "Return Customers", value: "35%", description: "Customer retention rate" }
      ],
      technologies: ["Shopify", "Google Ads", "Facebook Ads", "Instagram", "Mailchimp"],
      challenges: [
        "Membangun trust dalam penjualan fashion online",
        "Menciptakan user experience yang seamless dari discovery hingga purchase",
        "Mengoptimalkan customer acquisition cost"
      ],
      solutions: [
        "Implementation of social proof dan customer review systems",
        "User-centric design dengan focus pada mobile experience",
        "Data-driven approach untuk ad targeting dan campaign optimization"
      ],
      gallery: [
        "/public/STORMLAB-LOGOArtboard-9.png",
        "/public/STORMLAB-LOGOArtboard-9.png",
        "/public/STORMLAB-LOGOArtboard-9.png"
      ]
    }
  };

  // ================================
  // PORTFOLIO FUNCTIONALITY
  // ================================
  document.addEventListener('DOMContentLoaded', function() {
    // Filter functionality
    const filterTabs = document.querySelectorAll('.filter-tab');
    const portfolioItems = document.querySelectorAll('.portfolio-item');
    
    filterTabs.forEach(tab => {
      tab.addEventListener('click', function() {
        const filter = this.getAttribute('data-filter');
        
        // Update active tab
        filterTabs.forEach(t => t.classList.remove('active'));
        this.classList.add('active');
        
        // Filter items
        portfolioItems.forEach(item => {
          const category = item.getAttribute('data-category');
          
          if (filter === 'all' || category === filter) {
            item.classList.remove('hidden');
            item.style.display = 'block';
          } else {
            item.classList.add('hidden');
            setTimeout(() => {
              item.style.display = 'none';
            }, 300);
          }
        });
      });
    });

    // Modal functionality
    const modal = document.getElementById('projectModal');
    const modalClose = document.getElementById('modalClose');
    const viewProjectBtns = document.querySelectorAll('.view-project-btn');
    
    // Open modal
    viewProjectBtns.forEach(btn => {
      btn.addEventListener('click', function(e) {
        e.preventDefault();
        const projectId = parseInt(this.getAttribute('data-project-id'));
        openModal(projectId);
      });
    });
    
    // Portfolio item click
    portfolioItems.forEach(item => {
      item.addEventListener('click', function() {
        const projectId = parseInt(this.getAttribute('data-project-id'));
        openModal(projectId);
      });
    });

    // Close modal
    modalClose.addEventListener('click', closeModal);
    modal.addEventListener('click', function(e) {
      if (e.target === this) {
        closeModal();
      }
    });

    // ESC key close
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape' && modal.classList.contains('active')) {
        closeModal();
      }
    });

    function openModal(projectId) {
      const project = projectData[projectId];
      if (!project) return;

      // Update modal content
      document.getElementById('modalImage').src = project.image;
      document.getElementById('modalImage').alt = project.title;
      document.getElementById('modalCategory').textContent = project.category;
      document.getElementById('modalTitle').textContent = project.title;
      document.getElementById('modalDescription').textContent = project.description;
      document.getElementById('modalClient').textContent = project.client;
      document.getElementById('modalYear').textContent = project.year;
      document.getElementById('modalDuration').textContent = project.duration;

      // Services
      const servicesContainer = document.getElementById('modalServices');
      servicesContainer.innerHTML = project.services.map(service => 
        `<span class="service-tag">${service}</span>`
      ).join('');

      // Results
      const resultsContainer = document.getElementById('modalResults');
      resultsContainer.innerHTML = project.results.map(result => `
        <div class="result-item">
          <span class="result-value">${result.value}</span>
          <div class="result-metric">${result.metric}</div>
          <div class="result-description">${result.description}</div>
        </div>
      `).join('');

      // Challenges
      const challengesContainer = document.getElementById('modalChallenges');
      challengesContainer.innerHTML = project.challenges.map(challenge => 
        `<li>${challenge}</li>`
      ).join('');

      // Solutions
      const solutionsContainer = document.getElementById('modalSolutions');
      solutionsContainer.innerHTML = project.solutions.map(solution => 
        `<li>${solution}</li>`
      ).join('');

      // Technologies
      const techContainer = document.getElementById('modalTechnologies');
      techContainer.innerHTML = project.technologies.map(tech => 
        `<span class="tech-tag">${tech}</span>`
      ).join('');

      // Gallery
      const galleryContainer = document.getElementById('modalGallery');
      galleryContainer.innerHTML = project.gallery.map(image => `
        <div class="gallery-item">
          <img src="${image}" alt="${project.title} gallery" loading="lazy" />
        </div>
      `).join('');

      // Show modal
      modal.classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function closeModal() {
      modal.classList.remove('active');
      document.body.style.overflow = '';
    }

    // Intersection Observer for animations
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const delay = parseInt(entry.target.getAttribute('data-delay') || '0');
          setTimeout(() => {
            entry.target.classList.add('animate');
          }, delay);
        }
      });
    }, observerOptions);

    // Observe all scroll-animate elements
    const scrollElements = document.querySelectorAll('.scroll-animate');
    scrollElements.forEach(el => observer.observe(el));

    // Load more functionality
    const loadMoreBtn = document.querySelector('.load-more-btn');
    if (loadMoreBtn) {
      loadMoreBtn.addEventListener('click', function() {
        // Simulate loading more projects
        this.innerHTML = `
          <div class="btn-content">
            <span class="spinner" style="width: 16px; height: 16px; border: 2px solid rgba(255,255,255,0.3); border-top: 2px solid currentColor; border-radius: 50%; animation: spin 1s linear infinite;"></span>
            <span class="btn-text">Loading...</span>
          </div>
        `;
        
        setTimeout(() => {
          this.disabled = true;
          this.style.opacity = '0.6';
        }, 2000);
      });
    }

    // Gallery item click for fullscreen
    document.addEventListener('click', function(e) {
      if (e.target.closest('.gallery-item')) {
        const img = e.target;
        const overlay = document.createElement('div');
        overlay.className = 'image-fullscreen';
        overlay.innerHTML = `
          <div class="fullscreen-backdrop"></div>
          <div class="fullscreen-content">
            <img src="${img.src}" alt="${img.alt}" />
            <button class="fullscreen-close">×</button>
          </div>
        `;
        
        document.body.appendChild(overlay);
        document.body.style.overflow = 'hidden';
        
        overlay.addEventListener('click', function(e) {
          if (e.target === overlay || e.target.classList.contains('fullscreen-close')) {
            document.body.removeChild(overlay);
            document.body.style.overflow = '';
          }
        });
      }
    });
  });

  // Add CSS for image fullscreen
  const fullscreenStyle = document.createElement('style');
  fullscreenStyle.textContent = `
    .image-fullscreen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
      animation: fadeIn 0.3s ease;
    }
    
    .fullscreen-backdrop {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0;
      backdrop-filter: blur(10px);
    }
    
    .fullscreen-content {
      position: relative;
      max-width: 90%;
      max-height: 90%;
      z-index: 2;
    }
    
    .fullscreen-content img {
      width: 100%;
      height: auto;
      object-fit: cover;
      border-radius: 5px;
    }
    
    .fullscreen-close {
      position: absolute;
      top: -50px;
      right: 0;
      background: rgba(255, 255, 255, 0.2);
      border: none;
      color: white;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      font-size: 24px;
      cursor: pointer;
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
    }
    
    .fullscreen-close:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: scale(1.1);
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
  `;
  document.head.appendChild(fullscreenStyle);
</script>